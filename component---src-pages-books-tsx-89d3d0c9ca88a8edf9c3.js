(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{ZcoD:function(t,e,i){"use strict";i.r(e);i("VRzm"),i("Btvt");var o=i("o0o1"),a=i.n(o),n=(i("ls82"),i("SRfc"),i("ZBNC")),r=i("tRbT"),l=i("ofer"),s=(i("KKXr"),i("wx14")),c=i("Ff2n"),m=i("KQm4"),p=i("q1tI"),u=i.n(p),f=i("iuhU");var h=i("H2TA");var d=function(t,e){var i,o,a,n;t&&t.complete&&(t.width/t.height>t.parentElement.offsetWidth/t.parentElement.offsetHeight?((i=t.classList).remove.apply(i,Object(m.a)(e.imgFullWidth.split(" "))),(o=t.classList).add.apply(o,Object(m.a)(e.imgFullHeight.split(" ")))):((a=t.classList).remove.apply(a,Object(m.a)(e.imgFullHeight.split(" "))),(n=t.classList).add.apply(n,Object(m.a)(e.imgFullWidth.split(" ")))))};var g=p.forwardRef((function(t,e){var i=t.children,o=t.classes,a=t.className,n=(t.cols,t.component),r=void 0===n?"li":n,l=(t.rows,Object(c.a)(t,["children","classes","className","cols","component","rows"])),m=p.useRef(null);return p.useEffect((function(){!function(t,e){t&&(t.complete?d(t,e):t.addEventListener("load",(function(){d(t,e)})))}(m.current,o)})),p.useEffect((function(){var t=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function o(){for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];var r=this,l=function(){t.apply(r,a)};clearTimeout(e),e=setTimeout(l,i)}return o.clear=function(){clearTimeout(e)},o}((function(){d(m.current,o)}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[o]),p.createElement(r,Object(s.a)({className:Object(f.a)(o.root,a),ref:e},l),p.createElement("div",{className:o.tile},p.Children.map(i,(function(t){return p.isValidElement(t)?"img"===t.type||(e=t,i=["Image"],p.isValidElement(e)&&-1!==i.indexOf(e.type.muiName))?p.cloneElement(t,{ref:m}):t:null;var e,i}))))})),v=Object(h.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(g),w=p.forwardRef((function(t,e){var i=t.actionIcon,o=t.actionPosition,a=void 0===o?"right":o,n=t.classes,r=t.className,l=t.subtitle,m=t.title,u=t.titlePosition,h=void 0===u?"bottom":u,d=Object(c.a)(t,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),g=i&&a;return p.createElement("div",Object(s.a)({className:Object(f.a)(n.root,r,"top"===h?n.titlePositionTop:n.titlePositionBottom,l&&n.rootSubtitle),ref:e},d),p.createElement("div",{className:Object(f.a)(n.titleWrap,{left:n.titleWrapActionPosLeft,right:n.titleWrapActionPosRight}[g])},p.createElement("div",{className:n.title},m),l?p.createElement("div",{className:n.subtitle},l):null),i?p.createElement("div",{className:Object(f.a)(n.actionIcon,"left"===g&&n.actionIconActionPosLeft)},i):null)})),b=Object(h.a)((function(t){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:t.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:t.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:t.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:t.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}}),{name:"MuiGridListTileBar"})(w),y=i("axFy");p.Component;function E(t,e,i,o,a,n,r){try{var l=t[n](r),s=l.value}catch(c){return void i(c)}l.done?e(s):Promise.resolve(s).then(o,a)}class x extends p.Component{constructor(...t){super(...t),this.state={books:new Array,loading:!0}}componentDidMount(){this.fetchBooks()}render(){const t=this.props.classes,e=this.state,i=e.books,o=e.loading;return u.a.createElement("div",{className:t.root},u.a.createElement(r.a,{container:!0,spacing:16},o&&u.a.createElement(r.a,{item:!0,sm:12},u.a.createElement(l.a,{variant:"h5"},"Loading...")),i.map(e=>u.a.createElement(r.a,{key:e.hash,item:!0,xs:4,sm:3,md:3,lg:2,style:{height:"auto",width:"100%"}},u.a.createElement(v,null,u.a.createElement("img",{src:e.imageUrl,alt:e.title,className:t.img}),u.a.createElement(b,{title:e.title,subtitle:u.a.createElement("span",null,"by: ",e.author)}))))))}fetchBooks(){var t,e=this;return(t=a.a.mark((function t(){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.fetchAllBooks();case 3:i=t.sent,e.setState({books:i,loading:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,i=arguments;return new Promise((function(o,a){var n=t.apply(e,i);function r(t){E(n,o,a,r,l,"next",t)}function l(t){E(n,o,a,r,l,"throw",t)}r(void 0)}))})()}}e.default=Object(h.a)(t=>Object(n.a)({root:{minHeight:"100vh",width:"auto",marginLeft:t.spacing(3),marginRight:t.spacing(3),[t.breakpoints.up(1100+t.spacing(6))]:{width:1100,marginLeft:"auto",marginRight:"auto"},display:"flex",flexWrap:"wrap",flexGrow:1,flexDirection:"column",justifyContent:"space-around",overflow:"hidden",padding:t.spacing(8)+"px 0"},img:{width:"100%",height:"auto"}}))(x)}}]);
//# sourceMappingURL=component---src-pages-books-tsx-89d3d0c9ca88a8edf9c3.js.map